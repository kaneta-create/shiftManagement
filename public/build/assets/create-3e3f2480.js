import{r as w,w as v,o as n,c as a,b as g,u as c,d as N,F as m,Z as k,e,f as S,i as _,A as V,t as u,h as f,g as p,j as O,v as h}from"./app-83d76f56.js";import{_ as j}from"./AuthenticatedLayout-bf38b0e9.js";import"./index-beae5e93.js";import"./ApplicationLogo-a9234fe9.js";const T={class:"py-4 bg-gray-300"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},R={class:"p-6 text-gray-900"},$=e("div",null,[e("h1",{class:"sm:text-4xl text-center text-3xl font-mono title-font mb-4 text-gray-900"},"シフト登録"),e("p",{class:"lg:w-2/3 mx-auto text-center leading-relaxed text-sm text-gray-600"},"社員番号を入力して時間を選択してください")],-1),B={class:"text-center mb-4 mt-8"},D=e("label",{for:"employee_number",class:"mr-2"},"社員番号:",-1),C={key:0,class:"text-red-600"},E={class:"lg:w-3/4 w-full mx-auto overflow-auto"},q={class:"table-auto w-full text-left whitespace-no-wrap"},A=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-500 rounded-tl rounded-bl"}," 曜日 "),e("th",{class:"px-6 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-500"}," 出勤時間 "),e("th",{class:"px-6 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-500 rounded-tr rounded-br"}," 退勤時間 ")])],-1),F={class:"border-y-2 border-gray-200 px-6 py-3"},H={class:"border-y-2 border-gray-200 px-6 py-3 relative"},L=["onUpdate:modelValue"],Z=e("option",{value:"",disabled:""},"-- 選択 --",-1),z=["value"],G={key:0,class:"absolute mb-5 text-red-600 text-sm -bottom-6 left-0 whitespace-nowrap"},I={class:"border-y-2 border-gray-200 px-6 py-3"},J=["onUpdate:modelValue"],K=e("option",{value:"",disabled:""},"-- 選択 --",-1),P=["value"],Q=e("div",{class:"mt-6"},[e("button",{id:"register-button",dusk:"register-button",class:"flex mx-auto text-white bg-indigo-600 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-700 rounded text-lg"}," 登録 ")],-1),oe={__name:"create",props:{day_of_week_name:Object,userRole:Object,errors:Object},setup(x){const l=x;Object.values(l.day_of_week_name);const s=w({employee_number:"",月曜日:{start_time:"",end_time:"",dayOfNameNumber:"1"},火曜日:{start_time:"",end_time:"",dayOfNameNumber:"2"},水曜日:{start_time:"",end_time:"",dayOfNameNumber:"3"},木曜日:{start_time:"",end_time:"",dayOfNameNumber:"4"},金曜日:{start_time:"",end_time:"",dayOfNameNumber:"5"},土曜日:{start_time:"",end_time:"",dayOfNameNumber:"6"},日曜日:{start_time:"",end_time:"",dayOfNameNumber:"7"}});v(s,i=>{Object.keys(i).forEach(r=>{const t=i[r].start_time,d=i[r].end_time;t&&d&&t>=d&&console.error(`${r} の出勤時間は退勤時間より前に設定してください。`)})});const y=()=>{O.post("/defaultShifts",s)},b=(()=>{const i=[];for(let r=0;r<24;r++)for(let t=0;t<60;t+=15){const d=String(r).padStart(2,"0"),o=String(t).padStart(2,"0");i.push(`${d}:${o}`)}return i})();return(i,r)=>(n(),a(m,null,[g(c(k),{title:"シフト登録"}),g(j,{userRole:l.userRole.authority},{default:N(()=>[e("div",T,[e("div",U,[e("div",M,[e("div",R,[$,e("form",{onSubmit:S(y,["prevent"])},[e("div",B,[D,_(e("input",{type:"text",id:"employee_number",required:"",name:"employee_number","onUpdate:modelValue":r[0]||(r[0]=t=>s.employee_number=t),class:"border border-gray-500 p-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded"},null,512),[[V,s.employee_number]]),l.errors.employee_number?(n(),a("div",C," *"+u(l.errors.employee_number),1)):f("",!0)]),e("div",E,[e("table",q,[A,e("tbody",null,[(n(!0),a(m,null,p(l.day_of_week_name,(t,d)=>(n(),a("tr",{key:d,class:"even:bg-gray-50 odd:bg-white"},[e("td",F,u(t),1),e("td",H,[_(e("select",{id:"clock_in","onUpdate:modelValue":o=>s[t].start_time=o,class:"w-full border border-gray-400 rounded p-2 focus:ring-2 focus:ring-indigo-400"},[Z,(n(!0),a(m,null,p(c(b),o=>(n(),a("option",{key:o,value:o},u(o),9,z))),128))],8,L),[[h,s[t].start_time]]),s[t].start_time&&s[t].end_time&&s[t].start_time>=s[t].end_time?(n(),a("div",G," *出勤時間は退勤時間より前に設定してください。 ")):f("",!0)]),e("td",I,[_(e("select",{id:"clock_out","onUpdate:modelValue":o=>s[t].end_time=o,class:"w-full border border-gray-400 rounded p-2 focus:ring-2 focus:ring-indigo-400"},[K,(n(!0),a(m,null,p(c(b),o=>(n(),a("option",{key:o,value:o},u(o),9,P))),128))],8,J),[[h,s[t].end_time]])])]))),128))])])]),Q],32)])])])])]),_:1},8,["userRole"])],64))}};export{oe as default};
