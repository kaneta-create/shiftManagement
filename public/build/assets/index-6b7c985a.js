import{a as b,r as D,w as S,o as a,c as s,b as _,u as O,d as M,F as x,Z as H,e as t,i as E,A as F,g as m,t as d,I as A}from"./app-8b9ecc7e.js";import{_ as C}from"./AuthenticatedLayout-2d6fda54.js";import"./ApplicationLogo-8621cb80.js";const N={class:"py-4 bg-gray-300"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},B={class:"p-6 text-gray-900"},V={class:"text-center mb-4"},j=t("h1",{class:"sm:text-4xl text-3xl font-mono title-font mb-4 text-gray-900"},"シフト表",-1),Y=t("p",{id:"explanation",class:"lg:w-2/3 mx-auto leading-relaxed text-base text-gray-600"},"日付を選択してください。",-1),z={class:"mt-6"},L=t("label",{for:"date",class:"mr-2"},"日付 : ",-1),T=["min","max"],U={key:0},Z=t("p",null,"本日出勤の従業員がいません。",-1),q=[Z],G={key:1,class:"overflow-x-auto"},J={class:"table-auto w-full text-left whitespace-no-wrap"},K=t("th",{id:"th1",class:"py-2 px-2 border-2 title-font tracking-wider font-medium text-white text-sm bg-gray-500 rounded-tl rounded-bl text-nowrap text-center"},"名前",-1),P=t("th",{id:"th2",class:"py-2 px-2 border-2 border-2text-center border-x-1 title-font tracking-wider font-medium text-white text-sm bg-gray-500 text-center"}," 勤務時間 ",-1),Q={id:"th3",class:"py-2 px-2 border-2 border-x-1 title-font tracking-wider font-medium text-white text-sm bg-gray-500 text-center"},W={class:"flex justify-center"},X=t("span",null,"時",-1),tt={id:"td1",class:"border-t-2 border-gray-200 p-left-4 py-2 bg-gray-500 text-white text-center text-sm text-nowrap"},et={id:"td2",class:"border-t-2 border-gray-200 p-left-4 py-2 text-center text-sm bg-gray-100"},at={__name:"index",props:{shiftInfos:Array,month:Array,earliestClockIn:String,latestClockOut:String,totalHour:Array,userRole:Object},setup(p,{expose:f}){const l=p;b(c(new Date)),console.log(l.shiftInfos);function c(e){const o=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${o}-${r}-${n}`}const i=D({date:""});i.date=c(new Date);const y=b(c(new Date)),k=b(c(w()));function w(){const e=new Date;return e.getMonth(),new Date(e.getFullYear(),e.getMonth()+3,0)}const u=b([]),v=()=>{u.value=[],l.shiftInfos.forEach(e=>{e.date==i.date&&u.value.push(e)})};S(()=>i.date,()=>{v()},{immediate:!0});function I(e,o){const r=parseInt(o.clockIn.substring(0,2));let n=parseInt(o.clockOut.substring(0,2));n==0&&(n=24);const g=parseInt(o.clockIn.substring(3,5)),h=parseInt(o.clockOut.substring(3,5));return e.hour===r?g===15?"background: linear-gradient(90deg, #d1d5db 0%, #d1d5db 75%, hsla(208, 75%, 57%, 0.627) 75%, hsla(208, 75%, 57%, 0.627) 100%)":g===30?"background: linear-gradient(90deg, #d1d5db 0%, #d1d5db 50%, hsla(208, 75%, 57%, 0.627) 50%, hsla(208, 75%, 57%, 0.627) 100%)":g===45?"background: linear-gradient(90deg, #d1d5db 0%, #d1d5db 25%, hsla(208, 75%, 57%, 0.627) 25%, hsla(208, 75%, 57%, 0.627) 100%)":"background-color: hsla(208, 75%, 57%, 0.627);":e.hour===n?h===15?"background: linear-gradient(90deg, hsla(208, 75%, 57%, 0.627) 0%, hsla(208, 75%, 57%, 0.627) 15%, #d1d5db 15%, #d1d5db 100%)":h===30?"background: linear-gradient(90deg, hsla(208, 75%, 57%, 0.627) 0%, hsla(208, 75%, 57%, 0.627) 30%, #d1d5db 30%, #d1d5db 100%)":h===45?"background: linear-gradient(90deg, hsla(208, 75%, 57%, 0.627) 0%, hsla(208, 75%, 57%, 0.627) 45%, #d1d5db 45%, #d1d5db 100%)":"background-color: hsla(208, 75%, 57%, 0.627);":e.hour>r&&e.hour<n?"background-color:hsla(208, 75%, 57%, 0.627);":""}return f({getFormattedDate:c}),console.log(u),(e,o)=>(a(),s(x,null,[_(O(H),{title:"DayShift"}),_(C,{userRole:l.userRole.authority},{default:M(()=>[t("div",N,[t("div",R,[t("div",$,[t("div",B,[t("div",V,[j,Y,t("div",z,[L,E(t("input",{type:"date",id:"date",name:"date","onUpdate:modelValue":o[0]||(o[0]=r=>i.date=r),min:y.value,max:k.value},null,8,T),[[F,i.date]])])]),u.value.length==0?(a(),s("div",U,q)):(a(),s("div",G,[t("table",J,[t("thead",null,[t("tr",null,[K,P,(a(!0),s(x,null,m(l.totalHour,(r,n)=>(a(),s("th",Q,[t("div",W,[t("span",null,d(r.hour),1),X])]))),256))])]),t("tbody",null,[(a(!0),s(x,null,m(u.value,(r,n)=>(a(),s("tr",{key:n,class:"border-2 hover:bg-gray-400 transition duration-150 ease-in-out"},[t("td",tt,d(r.employeeName),1),t("td",et,d(r.clockInHour)+":"+d(r.clockInMinutes)+"~"+d(r.clockOutHour==="00"?"24":r.clockOutHour)+":"+d(r.clockOutMinutes),1),(a(!0),s(x,null,m(l.totalHour,(g,h)=>(a(),s("td",{id:"td3",style:A(I(g,r)),class:"border-2 bg-gray-300 border-gray-200 px-4 py-2"},null,4))),256))]))),128))])])]))])])])])]),_:1},8,["userRole"])],64))}};export{at as default};
